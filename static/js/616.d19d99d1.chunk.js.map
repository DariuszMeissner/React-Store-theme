{"version":3,"file":"static/js/616.d19d99d1.chunk.js","mappings":"wWAWaA,EAAmB,EA6ChC,UA3CyB,WACvB,IAAQC,GAAaC,EAAAA,EAAAA,MAAbD,SACFE,GAAWC,EAAAA,EAAAA,MACjB,EAA4BC,EAAAA,EAAAA,8BAC1BJ,GAAY,IADNK,EAAI,EAAJA,KAAMC,EAAS,EAATA,UAGRC,GAAWC,EAAAA,EAAAA,KACf,SAACC,GAAgB,OAAKA,EAAMC,iBAAiBH,QAAQ,IAGjDI,EAAmB,OAARX,QAAQ,IAARA,OAAQ,EAARA,EAAUY,QAAQ,IAAK,KAUxC,OARAC,EAAAA,EAAAA,YAAU,WAER,GAAIP,EAAW,CAAC,IAAD,EACPQ,EAAmB,OAAJT,QAAI,IAAJA,GAAc,QAAV,EAAJA,EAAME,gBAAQ,WAAV,EAAJ,EAAgBQ,MAAM,EAAGhB,GAC9CG,EAASc,EAAAA,GAAAA,aAAqCF,GAAgB,IAChE,CACF,GAAG,CAACR,EAAWN,EAAUK,KAGvB,iBAAMY,UAAU,eAAc,UAC5B,UAAC,KAAO,CAACC,SAAU,CAAEC,OAAQ,UAAW,WACtC,SAAC,KAAS,CAACD,SAAU,CAAEE,UAAW,UAAW,SAAET,IAC9CX,IACC,SAAC,KAAgB,CAACK,KAAME,GAAY,GAAIP,SAAUA,KAEpD,SAAC,KAAI,CACHqB,OAAQ,CAAC,GAAI,GAAI,GAAI,IACrBC,UAAW,CAAC,GAAI,GAAI,GAAI,IACxBC,YAAa,CAAC,EAAG,EAAG,EAAG,GACvBC,aAAW,WACVjB,IACS,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUkB,KAAI,SAACC,GAAI,OACjB,SAAC,KAAa,CAACC,UAAS,UAAKD,EAAKE,KAAWF,EAAKE,GAAM,QAG9D,SAAC,KAAQ,CAACC,QAAgB,OAARtB,QAAQ,IAARA,OAAQ,EAARA,EAAUsB,SAAU,QAI9C,C","sources":["pages/CategoryPage.tsx"],"sourcesContent":["import React, { FC, useEffect } from 'react'\r\nimport 'react-loading-skeleton/dist/skeleton.css'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { apiSlice } from '../api/feature/apiSlice'\r\nimport { searchRefeimentsActions } from '../api/feature/search-refeiments-slice/searchRefeimentsSlice'\r\nimport { RootState } from '../api/feature/store'\r\nimport { Grid, Headline2, ProductTeaser } from '../components'\r\nimport { LoadMore, SearchRefeiments } from '../features'\r\nimport { Section } from '../layout'\r\n\r\nexport const PRODUCT_PER_PAGE = 8\r\n\r\nconst CategoryPage: FC = () => {\r\n  const { category } = useParams()\r\n  const dispatch = useDispatch()\r\n  const { data, isSuccess } = apiSlice.useGetProductsOfCategoryQuery(\r\n    category || ''\r\n  )\r\n  const products = useSelector(\r\n    (state: RootState) => state.searchRefeiments.products\r\n  )\r\n\r\n  const headline = category?.replace('-', ' ')\r\n\r\n  useEffect(() => {\r\n    // set recommended products on start\r\n    if (isSuccess) {\r\n      const productsCopy = data?.products?.slice(0, PRODUCT_PER_PAGE)\r\n      dispatch(searchRefeimentsActions.sortByRating(productsCopy || []))\r\n    }\r\n  }, [isSuccess, category, data])\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <Section styleCss={{ margin: '25px 0' }}>\r\n        <Headline2 styleCss={{ textAlign: 'center' }}>{headline}</Headline2>\r\n        {category && (\r\n          <SearchRefeiments data={products || []} category={category} />\r\n        )}\r\n        <Grid\r\n          rowGap={[20, 20, 20, 20]}\r\n          columnGap={[20, 20, 20, 20]}\r\n          gridColumns={[2, 3, 4, 4]}\r\n          columnEqual>\r\n          {products &&\r\n            products?.map((item) => (\r\n              <ProductTeaser productId={`${item.id}`} key={item.id} />\r\n            ))}\r\n        </Grid>\r\n        <LoadMore length={products?.length || 0} />\r\n      </Section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default CategoryPage\r\n"],"names":["PRODUCT_PER_PAGE","category","useParams","dispatch","useDispatch","apiSlice","data","isSuccess","products","useSelector","state","searchRefeiments","headline","replace","useEffect","productsCopy","slice","searchRefeimentsActions","className","styleCss","margin","textAlign","rowGap","columnGap","gridColumns","columnEqual","map","item","productId","id","length"],"sourceRoot":""}